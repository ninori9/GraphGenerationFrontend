import React from 'react';

import ROUTES from '../../Routes';

import useWindowDimensions from '../../functionality/WindowDimensions';

import hyperledgerFabric from '../images/hyperledger_fabric_logo_color.png';


const routes = [
  {
    title: 'Generator',
    href: ROUTES.LANDING,
  },
  {
    title: 'Visualizer',
    href: ROUTES.VISUALIZE,
  },
];

const HyperledgerLogo = () => {
  /* Get current width of screen */
  const { width } = useWindowDimensions();
  const imageStyle = `object-cover w-44 mt-4 ${width >= 640 ? 'mr-8' : 'mr-2'}`;

  return (
    <a
      className="flex flex-none bg-center bg-no-repeat bg-contain"
      href={ROUTES.LANDING}>
      <img className={imageStyle} src={hyperledgerFabric} alt='Fabric'/>
    </a>
  );
};

const TUMLogo = () => {
  return (
    <a
      className="flex flex-col w-[56px] group focus:outline-none -translate-y-2"
      href={ROUTES.TUM_MIDDLEWARE}
      target="blank"
    >
      <svg
        width="200px"
        height="216px"
        viewBox="0 0 200 216"
        className="fill-gray-400 hover:fill-tum mt-4 transition w-[56px] h-[64px] group-focus:fill-tum"
      >
        <path
          d="M109.459459,68 L200,68 L200,77.4230769 L200,173 L181.081081,173 L181.081081,86.8461538 L159.459459,86.8461538 L159.459459,173 L140.540541,173 L140.540541,86.8461538 L118.918919,86.8461538 L118.918919,173 L109.459459,173 L68.9189189,173 L59.4594595,173 L59.4594595,86.8461538 L37.8378378,86.8461538 L37.8378378,173 L18.9189189,173 L18.9189189,86.8461538 L0,86.8461538 L0,68 L68.9189189,68 L78.3783784,68 L78.3783784,154.153846 L100,154.153846 L100,68 L109.459459,68 Z M40,42 L31.0555556,42 L30.3888889,27.1399711 C30.2037028,23.5940179 30.1111111,20.4319523 30.1111111,17.6536797 C30.1111111,15.5334189 30.1666661,13.522857 30.2777778,11.6219336 L24.3333333,37.997114 L15.7222222,37.997114 L9.38888889,11.6219336 C9.61111222,14.8023247 9.72222222,17.7998897 9.72222222,20.6147186 C9.72222222,22.7349793 9.66666722,24.9465974 9.55555556,27.2496392 L8.88888889,42 L0,42 L2.88888889,4 L14.3888889,4 L20.1666667,29.7720058 L25.5555556,4 L37.1111111,4 L40,42 Z M68.0323887,33.6176991 C68.0323887,34.7150497 68.1872454,35.5197615 68.4969636,36.0318584 C68.8066817,36.5439554 69.3076888,36.9280223 70,37.1840708 L68.1963563,42.8353982 C66.4109222,42.6890848 64.9534469,42.2958734 63.8238866,41.6557522 C62.6943263,41.015631 61.8198412,40.0005969 61.2004049,38.6106195 C59.3056585,41.5368878 56.3907079,43 52.4554656,43 C49.5769087,43 47.2813851,42.1587105 45.5688259,40.4761062 C43.8562667,38.7935019 43,36.5988336 43,33.8920354 C43,30.7097186 44.1659802,28.2772945 46.4979757,26.5946903 C48.8299712,24.912086 52.2003828,24.0707965 56.6093117,24.0707965 L59.5607287,24.0707965 L59.5607287,22.8088496 C59.5607287,21.0896669 59.1963599,19.9100327 58.4676113,19.2699115 C57.7388628,18.6297903 56.4635719,18.3097345 54.6417004,18.3097345 C53.6943272,18.3097345 52.5465654,18.4469013 51.1983806,18.7212389 C49.8501957,18.9955766 48.4655941,19.3704991 47.0445344,19.8460177 L45.0769231,14.139823 C46.8987945,13.4448343 48.7661848,12.9144561 50.6791498,12.5486726 C52.5921148,12.182889 54.3684129,12 56.0080972,12 C60.1619641,12 63.2044438,12.8595784 65.1356275,14.5787611 C67.0668113,16.2979437 68.0323887,18.876679 68.0323887,22.3150442 L68.0323887,33.6176991 Z M55.3972603,37 C57.3698729,37 58.9041041,36.0620783 60,34.1862069 L60,29 L57.8630137,29 C55.8904011,29 54.4200962,29.3494218 53.4520548,30.0482759 C52.4840134,30.7471299 52,31.8321766 52,33.3034483 C52,34.4804657 52.3013668,35.3908014 52.9041096,36.0344828 C53.5068523,36.6781641 54.3378942,37 55.3972603,37 Z M101,0.942010309 L101,42.0579897 L93.1756487,42.0579897 L92.7285429,38.6224227 C90.6420388,41.5408222 87.8290263,43 84.2894212,43 C80.60078,43 77.7970821,41.596234 75.8782435,38.7886598 C73.9594049,35.9810856 73,32.1391996 73,27.2628866 C73,24.2706036 73.502989,21.5923658 74.508982,19.2280928 C75.5149751,16.8638198 76.9401105,15.0167592 78.7844311,13.6868557 C80.6287517,12.3569521 82.7431684,11.6920103 85.1277445,11.6920103 C87.9594287,11.6920103 90.3067106,12.6155406 92.1696607,14.4626289 L92.1696607,0 L101,0.942010309 Z M87.8603352,37 C89.9087626,37 91.621967,35.8622868 93,33.5868263 L93,20.5598802 C92.2923615,19.6876204 91.5754226,19.0429163 90.849162,18.6257485 C90.1229014,18.2085807 89.2942318,18 88.3631285,18 C86.7243866,18 85.4208615,18.7774373 84.452514,20.3323353 C83.4841665,21.8872333 83,24.276431 83,27.5 C83,31.0269637 83.4189902,33.492009 84.2569832,34.8952096 C85.0949763,36.2984102 86.2960816,37 87.8603352,37 Z M133,26.9238938 C133,28.1309795 132.945234,29.1734469 132.8357,30.0513274 L114.817444,30.0513274 C115.109535,32.5020772 115.80324,34.221234 116.89858,35.2088496 C117.99392,36.1964651 119.509118,36.6902655 121.444219,36.6902655 C122.612582,36.6902655 123.744416,36.4799431 124.839757,36.059292 C125.935097,35.638641 127.121697,34.9893849 128.399594,34.1115044 L131.959432,38.939823 C128.563878,41.6466212 124.785011,43 120.622718,43 C115.912755,43 112.298187,41.6100434 109.778905,38.8300885 C107.259622,36.0501336 106,32.3191975 106,27.6371681 C106,24.6743215 106.529406,22.0132861 107.588235,19.6539823 C108.647064,17.2946785 110.198773,15.4292104 112.243408,14.0575221 C114.288043,12.6858338 116.734266,12 119.58215,12 C123.780954,12 127.066925,13.316801 129.440162,15.9504425 C131.813399,18.584084 133,22.2418645 133,26.9238938 Z M125,24.620155 C124.92467,20.2066963 123.305101,18 120.141243,18 C118.596979,18 117.401134,18.5426302 116.553672,19.627907 C115.70621,20.7131837 115.188325,22.5038635 115,25 L125,25 L125,24.620155 Z M175.032389,33.6176991 C175.032389,34.7150497 175.187245,35.5197615 175.496964,36.0318584 C175.806682,36.5439554 176.307689,36.9280223 177,37.1840708 L175.196356,42.8353982 C173.410922,42.6890848 171.953447,42.2958734 170.823887,41.6557522 C169.694326,41.015631 168.819841,40.0005969 168.200405,38.6106195 C166.305659,41.5368878 163.390708,43 159.455466,43 C156.576909,43 154.281385,42.1587105 152.568826,40.4761062 C150.856267,38.7935019 150,36.5988336 150,33.8920354 C150,30.7097186 151.16598,28.2772945 153.497976,26.5946903 C155.829971,24.912086 159.200383,24.0707965 163.609312,24.0707965 L166.560729,24.0707965 L166.560729,22.8088496 C166.560729,21.0896669 166.19636,19.9100327 165.467611,19.2699115 C164.738863,18.6297903 163.463572,18.3097345 161.6417,18.3097345 C160.694327,18.3097345 159.546565,18.4469013 158.198381,18.7212389 C156.850196,18.9955766 155.465594,19.3704991 154.044534,19.8460177 L152.076923,14.139823 C153.898795,13.4448343 155.766185,12.9144561 157.67915,12.5486726 C159.592115,12.182889 161.368413,12 163.008097,12 C167.161964,12 170.204444,12.8595784 172.135628,14.5787611 C174.066811,16.2979437 175.032389,18.876679 175.032389,22.3150442 L175.032389,33.6176991 Z M161.39726,37 C163.369873,37 164.904104,36.0620783 166,34.1862069 L166,29 L163.863014,29 C161.890401,29 160.420096,29.3494218 159.452055,30.0482759 C158.484013,30.7471299 158,31.8321766 158,33.3034483 C158,34.4804657 158.301367,35.3908014 158.90411,36.0344828 C159.506852,36.6781641 160.337894,37 161.39726,37 Z M200,40.6563877 C198.917721,41.4003953 197.658192,41.9769926 196.221374,42.3861968 C194.784556,42.795401 193.357089,43 191.938931,43 C185.44526,42.9627996 182.198473,39.3916165 182.198473,32.2863436 L182.198473,18.5594714 L178,18.5594714 L178,12.4214391 L182.198473,12.4214391 L182.198473,6.00440529 L191.043257,5 L191.043257,12.4214391 L197.872774,12.4214391 L196.92112,18.5594714 L191.043257,18.5594714 L191.043257,32.174743 C191.043257,33.5511572 191.267173,34.5369525 191.715013,35.1321586 C192.162852,35.7273647 192.871921,36.0249633 193.842239,36.0249633 C194.849878,36.0249633 195.91348,35.7087648 197.033079,35.0763583 L200,40.6563877 Z"
          fillRule="nonzero"
        />
      </svg>
    </a>
  );
};

const DesktopMenu = () => {
  return (
    <div className="flex-row items-center justify-start flex-auto hidden mx-8 space-x-4 md:mx-8 sm:flex flex-nowrap md:space-x-12">
      {
        // Render elements of 'routes' array
        routes.map((element) => {
          return (
            <a
              href={element.href}
              key={element.title}
              className='cursor-pointer transition box-border px-4 py-2 rounded-md
                font-medium text-base text-gray-600 text-center 
                hover:text-gray-800 hover:bg-gray-100 active:text-gray-900
                focus:text-gray-800 focus:bg-gray-100 focus:outline-none focus:ring-4 focus:ring-fabric focus:ring-opacity-60'>
              {element.title}
            </a>
          );
        })
      }
    </div>
  );
};

const MobileMenu = () => {
  /* Mobile menu is shown screen width < 640 */
  return (
    <div className="flex flex-col justify-between items-center py-4 sm:flex-row sm:space-y-0 sm:space-x-2 font-medium text-base text-gray-600 text-center border-b border-fabric">
      {
        /* Render elements of 'routes' array */
        routes.map((el) => {
          return (
            <a
              className="w-full py-2"
              href={el.href}
              key={el.title}
            >
              {el.title}
            </a>
          );
        })
      }
    </div>
  );
};


const Header = () => {
  /* Get current width of screen */
  const { width } = useWindowDimensions();

  return (
    <header className="flex flex-row flex-wrap items-center justify-center w-full fixed z-10 px-4 py-4 bg-white shadow sm:px-4">
      {/* Wrapper for the navigation bar contents */}
      <nav className="relative flex flex-row items-center justify-between w-full max-w-7xl">

        {/* Hyperledger Fabric Logo */}
        <HyperledgerLogo />

        {/* Standard Menu is only shown if screen width >= 640 */}
        {width >= 640 ? <DesktopMenu /> : <MobileMenu/>}

        <TUMLogo />
        
      </nav>
    </header>
  );
};

export default Header;
